@model TextAndImage

<article class="text-and-image @(Model.ShowLargeImage ? "text-and-image--image-left" : "")">
    <h1 class="text-and-image__title">@Model.Title</h1>
    <div class="text-and-image__text">
        @Model.Text
    </div>

    @if(Model.ImageUrl != null && Model.ImageUrl.EndsWith(".gif"))
    {
        <img class="text-and-image__image"
             src="@Model.ImageUrl"
             loading="lazy"
             alt="">
    }
    else if (Model.ShowLargeImage && Model.ImageUrl != null)
    {
        <img class="text-and-image__image" srcset="
                @Model.ImageUrl?width=320&height=240&mode=crop 320w,
                @Model.ImageUrl?width=480&height=360&mode=crop 480w,
                @Model.ImageUrl?width=1024&height=768&mode=crop 1024w"
             sizes="(max-width: 320px) 320px,
                    (max-width: 480px) 480px
                    (max-width: 1024px) 1024px"
             src="@Model.ImageUrl?width750&height=515&mode=crop"
             loading="lazy"
             alt="">
    }
    else if(Model.ImageUrl != null)
    {
        <img class="text-and-image__image" srcset="
                 @Model.ImageUrl?width=320&height=240&mode=crop 320w,
                 @Model.ImageUrl?width=480&height=360&mode=crop 480w,
                 @Model.ImageUrl?width=1024&height=768&mode=crop 1024w"
             sizes="(max-width: 320px) 320px,
                     (max-width: 480px) 480px
                     (max-width: 1024px) 1024px"
             src="@Model.ImageUrl?width=320&height=240&mode=crop"
             loading="lazy"
             alt="">
    }
</article>
